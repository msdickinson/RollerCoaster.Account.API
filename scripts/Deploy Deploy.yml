trigger: none

pr:
    branches:
         include:
         - develop
    paths:
          exclude:
          - README.md
          - Scripts/*

pool:
 vmImage: 'windows-latest'

variables:
  buildConfiguration: 'release'

steps:
- task: UseDotNet@2
  inputs:
    packageType: 'sdk'
    version: '3.1.101'
- task: DotNetCoreCLI@2
  inputs:
    command: 'build'
    projects: '**/*.csproj'
    configuration: '$(buildConfiguration)'

- task: AzureRmWebAppDeployment@4
  inputs:
    ConnectionType: 'AzureRM'
    azureSubscription: 'MarkDickinson(eb1f524e-8b8f-4d81-a10e-1dbced036254)'
    appType: 'webApp'
    WebAppName: 'RollerCoasterAccountAPI-Develop'
    packageForLinux: '$(System.DefaultWorkingDirectory)**/source/**/*.zip'